<div class="page">
  <app-add [items]="projects$ | async"
           [pageType]="pageTypes.PROJECT"
           (create)="onInitDialog(dialogTypes.CREATE, emptyProjectForm)"
  ></app-add>
  <div class="page-container" *ngIf="projects$ | async as projects">
    <div class="page-container-card" *ngFor="let project of projects">
      <app-card>
        <ng-container ngProjectAs="title">{{project.title}}</ng-container>
        <ng-container ngProjectAs="content">
          <div class="description">{{project.description}}</div>
          <div class="description">Square: {{project.square}}m2</div>
        </ng-container>
        <ng-container ngProjectAs="actions">
          <div class="page-container-card-actions">
            <button mat-mini-fab
                    color="accent"
                    matTooltip="Archived"
                    matTooltipClass="tooltip-bg"
                    (click)="onInitDialog(dialogTypes.ARCHIVE, project)"
                    [disabled]="project.archived"
            >
              <fa-icon [icon]="icons.archive"></fa-icon>
            </button>
            <button mat-mini-fab
                    color="primary"
                    matTooltip="Edit"
                    matTooltipClass="tooltip-bg"
                    (click)="onInitDialog(dialogTypes.UPDATE, project)"
                    [disabled]="project.archived"
            >
              <fa-icon [icon]="icons.edit"></fa-icon>
            </button>
            <button mat-mini-fab
                    color="warn"
                    matTooltip="Delete"
                    matTooltipClass="tooltip-bg"
                    (click)="onInitDialog(dialogTypes.DELETE, project)"
            >
              <fa-icon [icon]="icons.delete"></fa-icon>
            </button>
          </div>
        </ng-container>
      </app-card>
    </div>
  </div>
</div>
